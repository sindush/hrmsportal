<div class="example-container mt-2">
  <div class="col-12 d-flex">
    <div class="col-6 d-flex align-items-center justify-content-start p-3">
      <ng-container class="ms-2">
        <mat-form-field>
          <mat-label>Filter</mat-label>
          <input
            matInput
            (keyup)="applyFilter($event)"
            placeholder="Ex. Mia"
            #input
          />
        </mat-form-field>
      </ng-container>
    </div>

    <div class="col-6 d-flex align-items-center justify-content-end p-3">
      <button mat-raised-button class="mx-3" color="primary" (click)="downloadExcell()">
        Downlaod Excell
      </button>

      <button type="button" mat-raised-button (click)="fileInput.click()">Create Employee Using File </button>
      <input hidden (change)="onFileSelected($event)" 
      accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
      #fileInput type="file" id="file">
    </div>
  </div>



  <div class="table-container">
    <table
      mat-table
      [dataSource]="dataSource"
      class="example-table"
      matSort
      matSortActive="first_name"
      matSortDisableClear
      matSortDirection="desc"
    >
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          Id
        </th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>
      <ng-container matColumnDef="first_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>
          First Name
        </th>
        <td mat-cell *matCellDef="let element">{{ element.first_name }}</td>
      </ng-container>

      <ng-container matColumnDef="last_name">
        <th mat-header-cell *matHeaderCellDef>Last Name</th>
        <td mat-cell *matCellDef="let element">{{ element.last_name }}</td>
      </ng-container>

      <ng-container matColumnDef="dob">
        <th mat-header-cell *matHeaderCellDef>DOB</th>
        <td mat-cell *matCellDef="let element">
          {{ element.dob | date : "dd/MM/yyyy" }}
        </td>
      </ng-container>
      <ng-container matColumnDef="gender">
        <th mat-header-cell *matHeaderCellDef>Gender</th>
        <td mat-cell *matCellDef="let element">{{ element.gender }}</td>
      </ng-container>
      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef>Address</th>
        <td mat-cell *matCellDef="let element">{{ element.address }}</td>
      </ng-container>
      <ng-container matColumnDef="city">
        <th mat-header-cell *matHeaderCellDef>City</th>
        <td mat-cell *matCellDef="let element">{{ element.city }}</td>
      </ng-container>
      <ng-container matColumnDef="county">
        <th mat-header-cell *matHeaderCellDef>Country</th>
        <td mat-cell *matCellDef="let element">{{ element.county }}</td>
      </ng-container>
      <ng-container matColumnDef="postal">
        <th mat-header-cell *matHeaderCellDef>Postal Code</th>
        <td mat-cell *matCellDef="let element">{{ element.postal }}</td>
      </ng-container>
      <ng-container matColumnDef="phone1">
        <th mat-header-cell *matHeaderCellDef>Primary Phone</th>
        <td mat-cell *matCellDef="let element">{{ element.phone1 }}</td>
      </ng-container>
      <ng-container matColumnDef="phone2">
        <th mat-header-cell *matHeaderCellDef>Secoundary Phone</th>
        <td mat-cell *matCellDef="let element">{{ element.phone2 }}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let element">{{ element.email }}</td>
      </ng-container>
      <ng-container matColumnDef="web">
        <th mat-header-cell *matHeaderCellDef>Web</th>
        <td mat-cell *matCellDef="let element">{{ element.web }}</td>
      </ng-container>
      <ng-container matColumnDef="workingfrom">
        <th mat-header-cell *matHeaderCellDef>Work Location</th>
        <td mat-cell *matCellDef="let element">{{ element.workingfrom }}</td>
      </ng-container>

      <ng-container matColumnDef="action" stickyEnd>
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let element" fxLayoutGap="5px">
          <button
            mat-mini-fab
            color="primary"
            mat-button
            (click)="openDialog(element)"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            mat-button
            mat-mini-fab
            color="warn"
            (click)="deleteEmployee(element)"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </td>
        <!-- routerLink="/base/viewUserDetails/{{element.userid}}" -->
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

  <mat-paginator
    [length]="resultsLength"
    [pageSizeOptions]="[5, 10, 20, 50, 100]"
    [pageSize]="5"
    aria-label="Select page of GitHub search results"
  ></mat-paginator>
</div>
